{"version":3,"file":"static/chunks/pages/index-74c802267b3d59db.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./pages/index.tsx","webpack://_N_E/./node_modules/next/head.js","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  ","import Head from 'next/head';\nimport { useRef, useEffect } from 'react';\n\nconst test1 = () => {\n  console.log('test1');\n  const container = document.getElementById('container');\n  const img = document.createElement('img');\n  img.src = `${process.env.basePath}/vercel.svg`;\n  container?.appendChild(img);\n}\n\nconst test2 = () => {\n  console.log('test2');\n  const container = document.getElementById('container');\n  const img = document.createElement('img');\n  img.src = `${process.env.basePath}/pic01.png`;\n  container?.appendChild(img);\n}\n\nexport default function Home() {\n\n  const didRunOnce = useRef(false);\n  useEffect(() => {\n    if (!didRunOnce.current) {\n      console.log('didRunOnce');\n      didRunOnce.current = true;\n\n      // const basePath = 'pwa-vanilla-nextjs';\n\n      if ('serviceWorker' in navigator) {\n        console.log('serviceWorker in navigator');\n\n        // window.addEventListener('load', function () {\n        //     console.log('try registering serviceWorker after window loaded');\n        //     navigator.serviceWorker.register(`${basePath}/serviceworker.js`)\n        //         .then(reg => console.log('serviceworker registered', reg))\n        //         .catch(err => console.log('serviceworker failed to register', err));\n        // });\n\n        navigator.serviceWorker.register(`${process.env.basePath}/serviceworker.js`, {scope: `${process.env.basePath}/`})\n          .then(reg => console.log('serviceworker registered', reg))\n          .catch(err => console.log('serviceworker failed to register', err));\n\n        const detectSWUpdate = async () => {\n          const registration = await navigator.serviceWorker.ready;\n\n          registration.addEventListener(\"updatefound\", event => {\n            const newSW = registration.installing!;\n            newSW.addEventListener(\"statechange\", event => {\n              if (newSW.state == \"installed\") {\n                console.log('index.tsx / New service worker is installed, but waiting activation');\n              }\n            });\n          })\n        }\n        detectSWUpdate();\n\n      } else {\n        console.log('not found serviceWorker in navigator');\n      }\n\n    }\n  }, []);\n\n  return (\n    <div>\n      <Head>\n        <title>pwa-vanilla-nextjs</title>\n        <meta name=\"description\" content=\"Progressive Web App - Vanilla - Next.JS\" />\n        <link rel=\"icon\" href={`${process.env.basePath}/favicon.ico`} />\n      </Head>\n      <div id=\"container\" className=\"flex flex-col justify-center items-center gap-4\">\n        <h1 className=\"text-3xl font-bold\">\n          Progressive Web App - Vanilla - Next.JS\n        </h1>\n        <button className=\"rounded-lg px-8 py-2 bg-red-600 text-gray-100\" onClick={test1}>Test1</button>\n        <button className=\"rounded-lg px-8 py-2 bg-green-600 text-gray-100\" onClick={test2}>Test2</button>\n        <img src={`${process.env.basePath}/vercel.svg`} />\n        <div className='w-64 h-64 bg-slate-400'>\n          <img src={`${process.env.basePath}/pic01.png`} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","module.exports = require('./dist/shared/lib/head')\n","(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[405],{\n\n/***/ 8312:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(4186);\n      }\n    ]);\n    if(false) {}\n  \n\n/***/ }),\n\n/***/ 4186:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5893);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9008);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7294);\n\n\n\nconst test1 = ()=>{\n    console.log(\"test1\");\n    const container = document.getElementById(\"container\");\n    const img = document.createElement(\"img\");\n    img.src = \"\".concat(\"/pwa-vanilla-nextjs\", \"/vercel.svg\");\n    container === null || container === void 0 ? void 0 : container.appendChild(img);\n};\nconst test2 = ()=>{\n    console.log(\"test2\");\n    const container = document.getElementById(\"container\");\n    const img = document.createElement(\"img\");\n    img.src = \"\".concat(\"/pwa-vanilla-nextjs\", \"/pic01.png\");\n    container === null || container === void 0 ? void 0 : container.appendChild(img);\n};\nfunction Home() {\n    const didRunOnce = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!didRunOnce.current) {\n            console.log(\"didRunOnce\");\n            didRunOnce.current = true;\n            // const basePath = 'pwa-vanilla-nextjs';\n            if (\"serviceWorker\" in navigator) {\n                console.log(\"serviceWorker in navigator\");\n                // window.addEventListener('load', function () {\n                //     console.log('try registering serviceWorker after window loaded');\n                //     navigator.serviceWorker.register(`${basePath}/serviceworker.js`)\n                //         .then(reg => console.log('serviceworker registered', reg))\n                //         .catch(err => console.log('serviceworker failed to register', err));\n                // });\n                navigator.serviceWorker.register(\"\".concat(\"/pwa-vanilla-nextjs\", \"/serviceworker.js\"), {\n                    scope: \"\".concat(\"/pwa-vanilla-nextjs\", \"/\")\n                }).then((reg)=>console.log(\"serviceworker registered\", reg)).catch((err)=>console.log(\"serviceworker failed to register\", err));\n                const detectSWUpdate = async ()=>{\n                    const registration = await navigator.serviceWorker.ready;\n                    registration.addEventListener(\"updatefound\", (event)=>{\n                        const newSW = registration.installing;\n                        newSW.addEventListener(\"statechange\", (event)=>{\n                            if (newSW.state == \"installed\") {\n                                console.log(\"index.tsx / New service worker is installed, but waiting activation\");\n                            }\n                        });\n                    });\n                };\n                detectSWUpdate();\n            } else {\n                console.log(\"not found serviceWorker in navigator\");\n            }\n        }\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"title\", {\n                        children: \"pwa-vanilla-nextjs\"\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"meta\", {\n                        name: \"description\",\n                        content: \"Progressive Web App - Vanilla - Next.JS\"\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"link\", {\n                        rel: \"icon\",\n                        href: \"\".concat(\"/pwa-vanilla-nextjs\", \"/favicon.ico\")\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                id: \"container\",\n                className: \"flex flex-col justify-center items-center gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n                        className: \"text-3xl font-bold\",\n                        children: \"Progressive Web App - Vanilla - Next.JS\"\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"rounded-lg px-8 py-2 bg-red-600 text-gray-100\",\n                        onClick: test1,\n                        children: \"Test1\"\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                        className: \"rounded-lg px-8 py-2 bg-green-600 text-gray-100\",\n                        onClick: test2,\n                        children: \"Test2\"\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: \"\".concat(\"/pwa-vanilla-nextjs\", \"/vercel.svg\")\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"w-64 h-64 bg-slate-400\",\n                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                            src: \"\".concat(\"/pwa-vanilla-nextjs\", \"/pic01.png\")\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\n\n\n/***/ }),\n\n/***/ 9008:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(3121)\n\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [774,888,179], function() { return __webpack_exec__(8312); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ _N_E = __webpack_exports__;\n/******/ }\n]);"],"names":["self","push","__unused_webpack_module","__unused_webpack_exports","__webpack_require__","window","__NEXT_P","__webpack_exports__","r","d","Home","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","next_head__WEBPACK_IMPORTED_MODULE_1__","next_head__WEBPACK_IMPORTED_MODULE_1___default","n","react__WEBPACK_IMPORTED_MODULE_2__","test1","console","log","container","document","getElementById","img","createElement","src","concat","appendChild","test2","didRunOnce","useRef","useEffect","current","navigator","serviceWorker","register","scope","then","reg","catch","err","detectSWUpdate","registration","ready","addEventListener","newSW","installing","state","jsxs","children","jsx","name","content","rel","href","id","className","onClick","module","exports","O","s","_N_E"],"sourceRoot":""}